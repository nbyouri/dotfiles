#!/bin/zsh
# Color and echo
           
            e="echo"    
            c0="\033[0m"    # Reset
            c1="\033[0;32m" # Green
            c2="\033[0;33m" # Yellow
            c3="\033[1;31m" # RED
            c4="\033[0;31m" # Red
            c5="\033[0;35m" # Purple
            c6="\033[0;36m" # Blue

# Term title 

echo -n "\033]0;Info Script\007"
						
# OS information
OS=$(sw_vers|awk '/ProductName/{print $2, $3, $4}')
VERS=$(sw_vers|awk '/ProductVersion/{print $2}')
BUILD=$(sw_vers|awk '/BuildVersion/{print $2}')
WM=$(echo Dwm)
CPU=$(sysctl -n machdep.cpu.brand_string|awk '{print $1,$2,$3,$4}') 
RAM=$(top -l 1|head -7|tail -1|awk '{sum+=$8+$10} END {print sum}')
VCARD=$(system_profiler SPDisplaysDataType|awk '/Chipset/{print $3,$4,$5}') 
VRAM=$(system_profiler SPDisplaysDataType|awk '/VRAM/{print $3,$4,$5,$6,$7}')
MODEL=$(sysctl -n hw.model) 
DISK_USAGE=$(df | awk '/disk0s2/{print$5}')
PORTS=$(port installed|sed '/installed/d'|wc -l|awk '{print substr($0,6,10)}')
BREWS=$(brew list|fold|wc -l|sed 's/^......//')
SHELL=$(echo $SHELL)
RES=$(system_profiler SPDisplaysDataType|awk '/Resolution/{print $2,$3,$4}' | head -n 1)
UPTIME=$(uptime|cut -c 11-22)
# Printing the apple

$e "${c1}                :++++.         "   "${c3}`users`${c5}@${c3}`hostname`"
$e "${c1}               /+++/.          "   "${c3}OS: ${c0}$OS $VERS ($BUILD)"
$e "${c1}       .:-::- .+/:-\`\`.::-    "   "  ${c3}Kernel: ${c0}`uname -mrs`"
$e "${c1}    .:/++++++/::::/++++++/:\`  "   " ${c3}Uptime: ${c0}$UPTIME" 
$e "${c2}  .:///////////////////////:\` "   " ${c3}Ports: ${c0}$PORTS ${c3}Homebrew: ${c0}$BREWS"
$e "${c2}  ////////////////////////\`   "   " ${c3}Shell: ${c0}$SHELL"
$e "${c3} -+++++++++++++++++++++++\`    "   " ${c3}Resolution: ${c0}$RES"
$e "${c3} /++++++++++++++++++++++/      "   "${c3}Theme: ${c0}Beastie"
$e "${c4} /sssssssssssssssssssssss.     "   "${c3}WM: ${c0}$WM"
$e "${c4} :ssssssssssssssssssssssss-    "   "${c3}Ram: ${c0}$RAM MB"
$e "${c5}  osssssssssssssssssssssssso/\\"   " ${c3}Cpu: ${c0}$CPU"
$e "${c5}  \`syyyyyyyyyyyyyyyyyyyyyyyy+\\"  " ${c3}VRam: ${c0}$VCARD @ $VRAM"
$e "${c6}   \`ossssssssssssssssssssss/   "  "${c3}Model: ${c0}$MODEL"
$e "${c6}     :ooooooooooooooooooo+.    "   "${c3}Disk Usage: ${c0}$DISK_USAGE"
$e "${c6}      \`:+oo+/:-..-:/+o+/-   "     "   ${c3}Term: ${c0}`echo $TERM`"

## TODO: homebrew, replace system_profiler instances for faster exec. 
#
# other infos: ioreg, vm_stat
